
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: Single-user , expiring  5 Jul 2021
Serial number: 401609700731
  Licensed to: Yongseok Kim
               Indiana University Bloomington

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do tabulate_tab6.do 

. clear all

. set more off

. 
. cd "~/Projects/Replication/LRZ2008"
/Users/apple/Projects/Replication/LRZ2008

. use "analysis/input/prepared"

. 
. tsset gvkey fyear
       panel variable:  gvkey (unbalanced)
        time variable:  fyear, 1965 to 2003, but with gaps
                delta:  1 unit

. 
. preserve

. collapse (firstnm) initblev = blev, by(gvkey)

. tempfile initblev

. save `initblev', replace
(note: file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St65132.000002 no
> t found)
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St65132.000002 saved

. restore

. 
. preserve

. collapse (firstnm) initmlev = mlev, by(gvkey)

. tempfile initmlev

. save `initmlev', replace
(note: file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St65132.000004 no
> t found)
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St65132.000004 saved

. restore

. 
. merge m:1 gvkey using `initblev'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           271,139  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. merge m:1 gvkey using `initmlev'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           271,139  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. tsset gvkey fyear
       panel variable:  gvkey (unbalanced)
        time variable:  fyear, 1965 to 2003, but with gaps
                delta:  1 unit

. global control "L.logsale L.mtb L.prof L.tang L.indblev"

. 
. foreach v in $control {
  2.         drop if missing(`v')
  3. }
(33,795 observations deleted)
(75,811 observations deleted)
(21,414 observations deleted)
(18,258 observations deleted)
(15,097 observations deleted)

. 
. /***********************************
>         Column (a)
> ************************************/
. 
. qui reg D.blev L.blev, vce(cluster gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1, 1] = -b[1, 1]

: b[1, 2] = log(0.5)/log(1 - b[1,1])

: V[2,2] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "Half-life"

. mat rownames V = "SOA" "Half-life"

. mat colnames V = "SOA" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1125388   .0023309    48.28   0.000     .1079703    .1171073
   Half-life |   5.805716   .1277202    45.46   0.000     5.555389    6.056043
------------------------------------------------------------------------------

. eststo est1

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.047"

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (b)
> ************************************/
. 
. qui reg D.blev L.blev initblev, vce(cluster gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1,1]

: b[1,2] = b[1,2] :/ b[1,1]

: b[1,3] = log(0.5)/log(1 - b[1,1])

: 
: F = (b[1,2], I(1))

: V[2,2] = (F * V[1..2,1..2] * F') :/ (b[1,1]^2)

: 
: V[3,3] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "initlev" "Half-life"

. mat rownames V = "SOA" "initlev" "Half-life"

. mat colnames V = "SOA" "initlev" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1244064   .0026319    47.27   0.000     .1192479    .1295649
     initlev |   .2220657   .0134834    16.47   0.000     .1956387    .2484927
   Half-life |    5.21739   .1180464    44.20   0.000     4.986023    5.448756
------------------------------------------------------------------------------

. eststo est2

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.050"

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (c)
> ************************************/
. 
. qui reghdfe D.blev L.blev initblev $control, a(cyear) cl(gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1,1]

: b[1,2..7] = b[1,2..7] :/ b[1,1]

: 
: F = (b[1,2..7]', I(6))

: V[2..7, 2..7] = (F * V[1..7, 1..7] * F') :/ (b[1,1]^2)

: 
: b[1,8] = log(0.5)/log(1 - b[1,1])

: V[8,8] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "initlev" $control "Half-life"

. mat rownames V = "SOA" "initlev" $control "Half-life"

. mat colnames V = "SOA" "initlev" $control "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1368498   .0029171    46.91   0.000     .1311325    .1425672
     initlev |   .1797303   .0129188    13.91   0.000     .1544099    .2050506
             |
     logsale |
         L1. |   .0026813   .0013215     2.03   0.042     .0000913    .0052714
             |
         mtb |
         L1. |  -.0113795   .0027678    -4.11   0.000    -.0168044   -.0059547
             |
        prof |
         L1. |  -.2466817   .0300086    -8.22   0.000    -.3054974    -.187866
             |
        tang |
         L1. |   .1440552    .011304    12.74   0.000     .1218999    .1662106
             |
     indblev |
         L1. |   .2252624   .0406659     5.54   0.000     .1455587    .3049661
             |
   Half-life |    4.70995   .1081598    43.55   0.000      4.49796    4.921939
------------------------------------------------------------------------------

. eststo est3

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.064"

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. /***********************************
>         Column (d)
> ************************************/
. 
. qui reghdfe D.blev L.blev, a(gvkey) cl(gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1, 1]

: b[1,2] = log(0.5)/log(1 - b[1,1])

: V[2,2] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "Half-life"

. mat rownames V = "SOA" "Half-life"

. mat colnames V = "SOA" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .3414122   .0055997    60.97   0.000      .330437    .3523874
   Half-life |   1.659607    .033786    49.12   0.000     1.593388    1.725826
------------------------------------------------------------------------------

. eststo est4

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.230"

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (e)
> ************************************/
. 
. qui reghdfe D.blev L.blev $control, a(gvkey cyear) cl(gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1, 1]

: b[1,2..7] = b[1,2..7] :/ b[1,1]

: 
: F = (b[1,2..7]', I(6))

: V[2..7, 2..7] = (F * V[1..7, 1..7] * F') :/ (b[1,1]^2)

: 
: b[1,7] = log(0.5)/log(1 - b[1,1])

: V[7,7] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" $control "Half-life"

. mat rownames V = "SOA" $control "Half-life"

. mat colnames V = "SOA" $control "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .3563091    .005924    60.15   0.000     .3446984    .3679199
             |
     logsale |
         L1. |   .0140799   .0028935     4.87   0.000     .0084087     .019751
             |
         mtb |
         L1. |   -.004653   .0017446    -2.67   0.008    -.0080723   -.0012337
             |
        prof |
         L1. |   -.111386   .0192209    -5.80   0.000    -.1490582   -.0737137
             |
        tang |
         L1. |   .1145833    .016998     6.74   0.000     .0812679    .1478987
             |
     indblev |
         L1. |   .0084164   .0306286     0.27   0.783    -.0516146    .0684475
             |
   Half-life |   1.573415   .0328697    47.87   0.000     1.508992    1.637839
------------------------------------------------------------------------------

. eststo est5

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.240"

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. /***********************************
>         Column (f)
> ************************************/
. qui xtdpdsys blev, lags(1)

. mat b = e(b)

. mat V = e(V)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -(b[1,1] - 1)

: 
: b[1,2] = log(0.5)/log(1 - b[1,1])

: V[2,2] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "Half-life"

. mat rownames V = "SOA" "Half-life"

. mat colnames V = "SOA" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1965746   .0055868    35.19   0.000     .1856247    .2075245
   Half-life |   3.166921   .1006158    31.48   0.000     2.969718    3.364125
------------------------------------------------------------------------------

. eststo est7

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (g)
> ***********************************/
. qui tabulate cyear, g(cyear)

. 
. xtabond blev $control cyear1-cyear35, lags(1)
note: cyear1 dropped from div() because of collinearity
note: cyear35 dropped from div() because of collinearity
note: cyear1 dropped because of collinearity
note: cyear35 dropped because of collinearity

Arellano-Bond dynamic panel-data estimation     Number of obs     =     81,702
Group variable: gvkey                           Number of groups  =      8,966
Time variable: fyear
                                                Obs per group:
                                                              min =          1
                                                              avg =   9.112425
                                                              max =         32

Number of instruments =    567                  Wald chi2(39)     =    8853.15
                                                Prob > chi2       =     0.0000
One-step results
------------------------------------------------------------------------------
        blev |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        blev |
         L1. |   .8474959   .0104596    81.03   0.000     .8269955    .8679962
             |
     logsale |
         L1. |  -.0104052   .0014072    -7.39   0.000    -.0131632   -.0076472
             |
         mtb |
         L1. |  -.0022883   .0006227    -3.67   0.000    -.0035089   -.0010678
             |
        prof |
         L1. |   .1234965   .0052721    23.42   0.000     .1131633    .1338297
             |
        tang |
         L1. |   -.097649   .0080527   -12.13   0.000     -.113432   -.0818659
             |
     indblev |
         L1. |  -.1241452   .0180169    -6.89   0.000    -.1594578   -.0888327
             |
      cyear2 |  -.0052662   .0070882    -0.74   0.458    -.0191588    .0086264
      cyear3 |  -.0086189   .0069425    -1.24   0.214    -.0222259     .004988
      cyear4 |  -.0023746   .0068062    -0.35   0.727    -.0157146    .0109654
      cyear5 |    .003995    .006748     0.59   0.554    -.0092308    .0172207
      cyear6 |  -.0158792   .0067297    -2.36   0.018    -.0290691   -.0026892
      cyear7 |  -.0228808   .0066721    -3.43   0.001    -.0359578   -.0098037
      cyear8 |  -.0108129   .0066047    -1.64   0.102     -.023758    .0021321
      cyear9 |   -.006524   .0065742    -0.99   0.321    -.0194091    .0063611
     cyear10 |  -.0042193   .0065631    -0.64   0.520    -.0170827    .0086441
     cyear11 |  -.0127183   .0065305    -1.95   0.051    -.0255179    .0000813
     cyear12 |  -.0117652   .0064839    -1.81   0.070    -.0244735    .0009431
     cyear13 |  -.0057798   .0064458    -0.90   0.370    -.0184134    .0068538
     cyear14 |  -.0223085    .006425    -3.47   0.001    -.0349012   -.0097157
     cyear15 |  -.0099776    .006358    -1.57   0.117    -.0224391    .0024839
     cyear16 |  -.0016155   .0063189    -0.26   0.798    -.0140005    .0107694
     cyear17 |   .0036611     .00628     0.58   0.560    -.0086475    .0159697
     cyear18 |   .0028865   .0062433     0.46   0.644    -.0093501     .015123
     cyear19 |   .0103043   .0061968     1.66   0.096    -.0018412    .0224497
     cyear20 |   .0142896   .0061715     2.32   0.021     .0021937    .0263856
     cyear21 |   .0168128   .0061744     2.72   0.006     .0047112    .0289145
     cyear22 |   .0059985   .0061349     0.98   0.328    -.0060257    .0180226
     cyear23 |  -.0026771   .0060683    -0.44   0.659    -.0145706    .0092165
     cyear24 |  -.0064011   .0059972    -1.07   0.286    -.0181554    .0053532
     cyear25 |  -.0023973   .0059376    -0.40   0.686    -.0140348    .0092402
     cyear26 |   .0053467   .0058922     0.91   0.364    -.0062019    .0168953
     cyear27 |   -.001564   .0058603    -0.27   0.790    -.0130499    .0099219
     cyear28 |   .0113463   .0058142     1.95   0.051    -.0000493    .0227419
     cyear29 |   .0281945   .0057593     4.90   0.000     .0169064    .0394826
     cyear30 |   .0229278   .0057142     4.01   0.000     .0117282    .0341275
     cyear31 |   .0133032   .0056699     2.35   0.019     .0021903     .024416
     cyear32 |   .0182862   .0056106     3.26   0.001     .0072896    .0292828
     cyear33 |   .0127752   .0055679     2.29   0.022     .0018623    .0236881
     cyear34 |   .0069141   .0055263     1.25   0.211    -.0039173    .0177454
       _cons |   .1529867   .0109677    13.95   0.000     .1314904     .174483
------------------------------------------------------------------------------
Instruments for differenced equation
        GMM-type: L(2/.).blev
        Standard: LD.logsale LD.mtb LD.prof LD.tang LD.indblev D.cyear2
                  D.cyear3 D.cyear4 D.cyear5 D.cyear6 D.cyear7 D.cyear8
                  D.cyear9 D.cyear10 D.cyear11 D.cyear12 D.cyear13 D.cyear14
                  D.cyear15 D.cyear16 D.cyear17 D.cyear18 D.cyear19
                  D.cyear20 D.cyear21 D.cyear22 D.cyear23 D.cyear24
                  D.cyear25 D.cyear26 D.cyear27 D.cyear28 D.cyear29
                  D.cyear30 D.cyear31 D.cyear32 D.cyear33 D.cyear34
Instruments for level equation
        Standard: _cons

. mat b = e(b)

. mat V = e(V)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b = b[1, (1..6, 40)]

: V = V[(1..6, 40), (1..6, 40)]

: 
: b[1,1] = -(b[1,1] - 1)

: b[1,2..7] = b[1,2..7] :/ b[1,1]

: 
: F = (b[1,2..7]', I(6))

: V[2..7, 2..7] = (F * V[1..7, 1..7] * F') :/ (b[1,1]^2)

: 
: b[1,7] = log(0.5)/log(1 - b[1,1])

: V[7,7] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" $control "Half-life"

. mat rownames V = "SOA" $control "Half-life"

. mat colnames V = "SOA" $control "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1525041   .0104596    14.58   0.000     .1320038    .1730045
             |
     logsale |
         L1. |  -.0682289   .0111203    -6.14   0.000    -.0900242   -.0464336
             |
         mtb |
         L1. |  -.0150051   .0041635    -3.60   0.000    -.0231653   -.0068449
             |
        prof |
         L1. |   .8097914   .0764747    10.59   0.000     .6599038     .959679
             |
        tang |
         L1. |  -.6403039   .0782679    -8.18   0.000    -.7937062   -.4869016
             |
     indblev |
         L1. |  -.8140451   .1324331    -6.15   0.000    -1.073609   -.5544811
             |
   Half-life |   4.188977   .3124397    13.41   0.000     3.576607    4.801348
------------------------------------------------------------------------------

. eststo est6

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. esttab est* using "analysis/output/tab/tab6.tex", replace b(2) t(2) booktabs 
> nomtitles nonumbers msign("$-$") nostar nonotes ///
> stats(yearfixed r2_ N, fmt("%10.0fc") label("Year fixed effects" "$ R^{2}$"))
>  order(SOA initlev $control Half-life) ///
> coeflabel(initlev "Initial leverage" L.logsale "Log(Sales)" L.mtb "Market-to-
> book" L.prof "Profitability" L.tang "Tangibility" L.indblev "Industry median 
> lev.") ///
> posthead(" & \multicolumn{3}{c}{Pooled OLS} & \multicolumn{2}{c}{Firm Fixed E
> ffects} & \multicolumn{2}{c}{GMM} \\ \cmidrule(lr){2-4} \cmidrule(lr){5-6} \c
> midrule(lr){7-8}" "Variable & (a) & (b) & (c) & (d) & (e) & (f) & (g) \\ \mid
> rule") ///
> prefoot("\\")
(output written to analysis/output/tab/tab6.tex)

. 
end of do-file
