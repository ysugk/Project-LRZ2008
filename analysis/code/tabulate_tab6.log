
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: Single-user , expiring  5 Jul 2021
Serial number: 401609700731
  Licensed to: Yongseok Kim
               Indiana University Bloomington

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do tabulate_tab6.do 

. clear all

. set more off

. 
. cd "~/Projects/Replication/LRZ2008"
/Users/apple/Projects/Replication/LRZ2008

. use "analysis/input/prepared"

. 
. tsset gvkey fyear
       panel variable:  gvkey (unbalanced)
        time variable:  fyear, 1965 to 2003, but with gaps
                delta:  1 unit

. 
. preserve

. collapse (firstnm) initblev = blev, by(gvkey)

. tempfile initblev

. save `initblev', replace
(note: file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St67925.000002 no
> t found)
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St67925.000002 saved

. restore

. 
. preserve

. collapse (firstnm) initmlev = mlev, by(gvkey)

. tempfile initmlev

. save `initmlev', replace
(note: file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St67925.000004 no
> t found)
file /var/folders/5x/ys8vrl6n4yvbdxjwvb5k0nf00000gn/T//St67925.000004 saved

. restore

. 
. merge m:1 gvkey using `initblev'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           247,606  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. merge m:1 gvkey using `initmlev'

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           247,606  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. tsset gvkey fyear
       panel variable:  gvkey (unbalanced)
        time variable:  fyear, 1965 to 2003, but with gaps
                delta:  1 unit

. global control "L.logsale L.mtb L.prof L.tang L.indblev"

. 
. foreach v in $control {
  2.         drop if missing(`v')
  3. }
(29,836 observations deleted)
(61,252 observations deleted)
(20,563 observations deleted)
(17,601 observations deleted)
(14,648 observations deleted)

. 
. /***********************************
>         Column (a)
> ************************************/
. 
. qui reg D.blev L.blev, vce(cluster gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1, 1] = -b[1, 1]

: b[1, 2] = log(0.5)/log(1 - b[1,1])

: V[2,2] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "Half-life"

. mat rownames V = "SOA" "Half-life"

. mat colnames V = "SOA" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1149965   .0024011    47.89   0.000     .1102904    .1197025
   Half-life |   5.673924   .1260106    45.03   0.000     5.426948      5.9209
------------------------------------------------------------------------------

. eststo est1

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.048"

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (b)
> ************************************/
. 
. qui reg D.blev L.blev initblev, vce(cluster gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1,1]

: b[1,2] = b[1,2] :/ b[1,1]

: b[1,3] = log(0.5)/log(1 - b[1,1])

: 
: F = (b[1,2], I(1))

: V[2,2] = (F * V[1..2,1..2] * F') :/ (b[1,1]^2)

: 
: V[3,3] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "initlev" "Half-life"

. mat rownames V = "SOA" "initlev" "Half-life"

. mat colnames V = "SOA" "initlev" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1263241    .002702    46.75   0.000     .1210283    .1316198
     initlev |   .2150708   .0136212    15.79   0.000     .1883738    .2417678
   Half-life |   5.132684   .1175424    43.67   0.000     4.902305    5.363063
------------------------------------------------------------------------------

. eststo est2

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.051"

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (c)
> ************************************/
. 
. qui reghdfe D.blev L.blev initblev $control, a(cyear) cl(gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1,1]

: b[1,2..7] = b[1,2..7] :/ b[1,1]

: 
: F = (b[1,2..7]', I(6))

: V[2..7, 2..7] = (F * V[1..7, 1..7] * F') :/ (b[1,1]^2)

: 
: b[1,8] = log(0.5)/log(1 - b[1,1])

: V[8,8] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "initlev" $control "Half-life"

. mat rownames V = "SOA" "initlev" $control "Half-life"

. mat colnames V = "SOA" "initlev" $control "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1400809   .0030195    46.39   0.000     .1341628     .145999
     initlev |   .1619569   .0131436    12.32   0.000     .1361959    .1877178
             |
     logsale |
         L1. |   .0023336   .0013136     1.78   0.076     -.000241    .0049081
             |
         mtb |
         L1. |  -.0129952   .0028191    -4.61   0.000    -.0185205   -.0074699
             |
        prof |
         L1. |  -.2282417   .0297188    -7.68   0.000    -.2864894    -.169994
             |
        tang |
         L1. |   .1425336   .0121754    11.71   0.000     .1186702     .166397
             |
     indblev |
         L1. |   .1800134   .0346482     5.20   0.000     .1121042    .2479226
             |
   Half-life |   4.592905   .1068632    42.98   0.000     4.383457    4.802353
------------------------------------------------------------------------------

. eststo est3

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.065"

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. /***********************************
>         Column (d)
> ************************************/
. 
. qui reghdfe D.blev L.blev, a(gvkey) cl(gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1, 1]

: b[1,2] = log(0.5)/log(1 - b[1,1])

: V[2,2] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "Half-life"

. mat rownames V = "SOA" "Half-life"

. mat colnames V = "SOA" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .3411299   .0057256    59.58   0.000      .329908    .3523518
   Half-life |   1.661311   .0346015    48.01   0.000     1.593494    1.729129
------------------------------------------------------------------------------

. eststo est4

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.229"

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (e)
> ************************************/
. 
. qui reghdfe D.blev L.blev $control, a(gvkey cyear) cl(gvkey)

. mat b = e(b)

. mat V = e(V)

. local r2_ : di %4.3f e(r2)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -b[1, 1]

: b[1,2..7] = b[1,2..7] :/ b[1,1]

: 
: F = (b[1,2..7]', I(6))

: V[2..7, 2..7] = (F * V[1..7, 1..7] * F') :/ (b[1,1]^2)

: 
: b[1,7] = log(0.5)/log(1 - b[1,1])

: V[7,7] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" $control "Half-life"

. mat rownames V = "SOA" $control "Half-life"

. mat colnames V = "SOA" $control "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .3575793    .006097    58.65   0.000     .3456294    .3695292
             |
     logsale |
         L1. |   .0141638   .0030069     4.71   0.000     .0082704    .0200572
             |
         mtb |
         L1. |  -.0050086    .001815    -2.76   0.006    -.0085659   -.0014513
             |
        prof |
         L1. |  -.1088071   .0195212    -5.57   0.000    -.1470679   -.0705464
             |
        tang |
         L1. |    .106416   .0171627     6.20   0.000     .0727777    .1400544
             |
     indblev |
         L1. |    .160278    .034088     4.70   0.000     .0934668    .2270891
             |
   Half-life |   1.566392   .0335949    46.63   0.000     1.500547    1.632237
------------------------------------------------------------------------------

. eststo est5

. estadd local r2_ "`r2_'"

added macro:
                e(r2_) : "0.240"

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. /***********************************
>         Column (f)
> ************************************/
. qui xtdpdsys blev, lags(1)

. mat b = e(b)

. mat V = e(V)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b[1,1] = -(b[1,1] - 1)

: 
: b[1,2] = log(0.5)/log(1 - b[1,1])

: V[2,2] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" "Half-life"

. mat rownames V = "SOA" "Half-life"

. mat colnames V = "SOA" "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .2006904   .0056343    35.62   0.000     .1896473    .2117334
   Half-life |   3.094312   .0973711    31.78   0.000     2.903468    3.285156
------------------------------------------------------------------------------

. eststo est7

. estadd local yearfixed "No"

added macro:
          e(yearfixed) : "No"

. 
. /***********************************
>         Column (g)
> ***********************************/
. qui tabulate cyear, g(cyear)

. 
. xtabond blev $control cyear1-cyear35, lags(1)
note: cyear1 dropped from div() because of collinearity
note: cyear35 dropped from div() because of collinearity
note: cyear1 dropped because of collinearity
note: cyear2 dropped because of collinearity

Arellano-Bond dynamic panel-data estimation     Number of obs     =     79,428
Group variable: gvkey                           Number of groups  =      8,667
Time variable: fyear
                                                Obs per group:
                                                              min =          1
                                                              avg =   9.164417
                                                              max =         32

Number of instruments =    567                  Wald chi2(39)     =    8695.59
                                                Prob > chi2       =     0.0000
One-step results
------------------------------------------------------------------------------
        blev |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        blev |
         L1. |   .8455874    .010574    79.97   0.000     .8248628    .8663119
             |
     logsale |
         L1. |  -.0112728   .0014618    -7.71   0.000    -.0141379   -.0084078
             |
         mtb |
         L1. |  -.0026576    .000627    -4.24   0.000    -.0038865   -.0014288
             |
        prof |
         L1. |   .1263291    .005327    23.72   0.000     .1158885    .1367698
             |
        tang |
         L1. |   -.088744   .0081808   -10.85   0.000    -.1047781     -.07271
             |
     indblev |
         L1. |  -.1501119   .0182766    -8.21   0.000    -.1859335   -.1142904
             |
      cyear3 |  -.0038823   .0035131    -1.11   0.269    -.0107678    .0030032
      cyear4 |   .0020751   .0034355     0.60   0.546    -.0046582    .0088085
      cyear5 |   .0072038   .0034221     2.11   0.035     .0004966     .013911
      cyear6 |  -.0126871   .0034265    -3.70   0.000     -.019403   -.0059713
      cyear7 |  -.0210629   .0034325    -6.14   0.000    -.0277906   -.0143352
      cyear8 |  -.0093799   .0034901    -2.69   0.007    -.0162204   -.0025394
      cyear9 |  -.0057866   .0035394    -1.63   0.102    -.0127236    .0011505
     cyear10 |  -.0032118    .003582    -0.90   0.370    -.0102324    .0038088
     cyear11 |  -.0110309   .0036183    -3.05   0.002    -.0181227   -.0039392
     cyear12 |  -.0105343   .0036938    -2.85   0.004     -.017774   -.0032945
     cyear13 |  -.0045785   .0037912    -1.21   0.227    -.0120092    .0028521
     cyear14 |  -.0214122    .003809    -5.62   0.000    -.0288776   -.0139467
     cyear15 |  -.0091766   .0039599    -2.32   0.020    -.0169378   -.0014155
     cyear16 |  -.0008222   .0040231    -0.20   0.838    -.0087075     .007063
     cyear17 |   .0049976   .0040061     1.25   0.212    -.0028542    .0128494
     cyear18 |   .0046969   .0040302     1.17   0.244    -.0032021     .012596
     cyear19 |   .0123391   .0040756     3.03   0.002     .0043511    .0203271
     cyear20 |   .0169902   .0041158     4.13   0.000     .0089234     .025057
     cyear21 |   .0190492   .0041454     4.60   0.000     .0109243    .0271741
     cyear22 |   .0081541   .0041782     1.95   0.051     -.000035    .0163432
     cyear23 |  -.0004339   .0042136    -0.10   0.918    -.0086924    .0078245
     cyear24 |  -.0046336   .0042961    -1.08   0.281    -.0130538    .0037866
     cyear25 |  -.0012209   .0044478    -0.27   0.784    -.0099384    .0074967
     cyear26 |   .0062286   .0045421     1.37   0.170    -.0026737     .015131
     cyear27 |  -.0004952   .0045768    -0.11   0.914    -.0094655    .0084751
     cyear28 |   .0115582   .0046939     2.46   0.014     .0023583    .0207581
     cyear29 |   .0286668   .0047535     6.03   0.000     .0193501    .0379834
     cyear30 |   .0240882    .004752     5.07   0.000     .0147745    .0334019
     cyear31 |   .0151362   .0048345     3.13   0.002     .0056609    .0246116
     cyear32 |   .0196255   .0049911     3.93   0.000     .0098431    .0294079
     cyear33 |   .0139843   .0050329     2.78   0.005     .0041201    .0238486
     cyear34 |      .0076   .0050856     1.49   0.135    -.0023676    .0175677
     cyear35 |   .0010138   .0071979     0.14   0.888    -.0130937    .0151214
       _cons |     .16016   .0097963    16.35   0.000     .1409597    .1793603
------------------------------------------------------------------------------
Instruments for differenced equation
        GMM-type: L(2/.).blev
        Standard: LD.logsale LD.mtb LD.prof LD.tang LD.indblev D.cyear2
                  D.cyear3 D.cyear4 D.cyear5 D.cyear6 D.cyear7 D.cyear8
                  D.cyear9 D.cyear10 D.cyear11 D.cyear12 D.cyear13 D.cyear14
                  D.cyear15 D.cyear16 D.cyear17 D.cyear18 D.cyear19
                  D.cyear20 D.cyear21 D.cyear22 D.cyear23 D.cyear24
                  D.cyear25 D.cyear26 D.cyear27 D.cyear28 D.cyear29
                  D.cyear30 D.cyear31 D.cyear32 D.cyear33 D.cyear34
Instruments for level equation
        Standard: _cons

. mat b = e(b)

. mat V = e(V)

. local nobs = e(N)

. 
. mata
------------------------------------------------- mata (type end to exit) -----
: b = st_matrix("b")

: V = st_matrix("V")

: b = b[1, (1..6, 40)]

: V = V[(1..6, 40), (1..6, 40)]

: 
: b[1,1] = -(b[1,1] - 1)

: b[1,2..7] = b[1,2..7] :/ b[1,1]

: 
: F = (b[1,2..7]', I(6))

: V[2..7, 2..7] = (F * V[1..7, 1..7] * F') :/ (b[1,1]^2)

: 
: b[1,7] = log(0.5)/log(1 - b[1,1])

: V[7,7] = V[1,1] * (log(0.5) / ((1 - b[1,1]) * log(1 - b[1,1])^2))^2

: 
: st_matrix("b", b)

: st_matrix("V", V)

: end
-------------------------------------------------------------------------------

. 
. mat colnames b = "SOA" $control "Half-life"

. mat rownames V = "SOA" $control "Half-life"

. mat colnames V = "SOA" $control "Half-life"

. 
. ereturn post b V, obs(`nobs')

. ereturn display
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SOA |   .1544126    .010574    14.60   0.000     .1336881    .1751372
             |
     logsale |
         L1. |  -.0730047   .0115053    -6.35   0.000    -.0955547   -.0504547
             |
         mtb |
         L1. |  -.0172113   .0041776    -4.12   0.000    -.0253992   -.0090235
             |
        prof |
         L1. |   .8181269   .0769121    10.64   0.000     .6673819    .9688718
             |
        tang |
         L1. |  -.5747201   .0747319    -7.69   0.000    -.7211918   -.4282483
             |
     indblev |
         L1. |   -.972148   .1431474    -6.79   0.000    -1.252712   -.6915843
             |
   Half-life |    4.13267   .3081167    13.41   0.000     3.528773    4.736568
------------------------------------------------------------------------------

. eststo est6

. estadd local yearfixed "Yes"

added macro:
          e(yearfixed) : "Yes"

. 
. esttab est* using "analysis/output/tab/tab6.tex", replace b(2) t(2) booktabs 
> nomtitles nonumbers msign("$-$") nostar nonotes ///
> stats(yearfixed r2_ N, fmt("%10.0fc") label("Year fixed effects" "$ R^{2}$"))
>  order(SOA initlev $control Half-life) ///
> coeflabel(initlev "Initial leverage" L.logsale "Log(Sales)" L.mtb "Market-to-
> book" L.prof "Profitability" L.tang "Tangibility" L.indblev "Industry median 
> lev.") ///
> posthead(" & \multicolumn{3}{c}{Pooled OLS} & \multicolumn{2}{c}{Firm Fixed E
> ffects} & \multicolumn{2}{c}{GMM} \\ \cmidrule(lr){2-4} \cmidrule(lr){5-6} \c
> midrule(lr){7-8}" "Variable & (a) & (b) & (c) & (d) & (e) & (f) & (g) \\ \mid
> rule") ///
> prefoot("\\")
(output written to analysis/output/tab/tab6.tex)

. 
end of do-file
